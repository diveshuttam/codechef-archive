{
    "status": "success",
    "problem_status": "unattempted",
    "problem_tester": null,
    "body": "<span class=\"solution-visible-txt\">All submissions for this problem are available.</span><p>\u00a0</p>\n<p>Aman Jr. is a very organized student. He is preparing for IIT-JEE 2042 and is set to get AIR-1 thanks to his unique Book catalogue. Aman\u2019s book catalogue is in the form of a directed tree with <b>N</b> shelves (that is, each node is in the form of a shelf). Each shelf has compartments numbered from 1 to <b>M</b>. [You can visualize the shelf as an array of compartments]. The tree is rooted at Shelf 1.\n<br>\nDespite being an ideal student, Aman too gets distracted. As part of his bouts of craziness, he has decided to have some fun with his catalogue. <br>\nAman defines the \u201cQuality\u201d of a shelf (or node) <b>Si</b> as the Maximum \u201cbook quality\u201d of any compartment in the range <b>Li</b> and <b>Ri</b> (the range is called the Effective Range of that shelf). <br>\nAman has the initial configuration of the tree and the shelves in the form of the book quality at each compartment of each shelf. He decides to perform 3 types of operations:<br>\n<b>Updates</b><br>\nType 1: Increase the book quality of compartments in Shelf <b>Y</b> in the range <b>L</b> to <b>R</b> (inclusive) by <b>X</b>. <br>\nType 2: Change the Effective Range of Shelf <b>Y</b> and make it <b>L</b> to <b>R</b> (inclusive) <br>\n<b>Queries:</b><br>\nType 3: Find the sum of \u201cqualities\u201d of the shelves in the subtree of Shelf <b>Y</b> at that instant..<br>\n\nCan you help perform these operations on his catalogue? He will reward you by giving you \u201cgud Irodov kweschuns.\u201d <br>\n<i>Please note that all characters in this problem are <b>fictional</b>, and they will <b>never exist</b>.</i>\n\n</p>\n<p>\u00a0</p>\n\n\n<h3>Input</h3>\n<p>The first line contains 3 integers, <b>N, M, Q</b>, where <b>N</b> and <b>M</b> are as described above and <b>Q</b> is the number of operations. <br>\nThe next <b>N</b>-1 Lines contain 2 integers, <b>x</b> and <b>y</b>, the description of the edges of the tree.<br>\nThe next <b>N</b> lines contain <b>M</b> integers. The <b>Y<sup>th</sup></b> line has <b>M</b> integers describing the initial \u201cbook quality\u201d of the coordinates from 1 to <b>M</b> in the <b>Y<sup>th</sup></b> shelf.<br>\nThe next <b>N</b> lines contain 2 integers, <b>Li</b> and <b>Ri</b>, the initial effective range of the ith node.<br>\nThe next <b>Q</b> lines contain the description of the queries:<br>\nThe first integer specifies the type of the operation.<br>\nIf the first integer is 1, 4 space separated integers follow, <b>Y, L, R, X</b> as described above [Type 1]<Br>\nIf the first integer is 2, 3 space separated integers follow, <b>Y, L, R</b> as described above [Type 2]<Br>\nIf the first integer is 3, 1 space separated integer follows, <b>Y</b> as described above [Type 3]<br>\n</p>\n\n<p>\u00a0</p>\n\n<h3>Output</h3>\n<p>For each query of type 3, output a single integer on a new line, the sum of \u201cqualities\u201d of the shelves in the subtree of Shelf <b>X</b> at that instant.</p>\n<p>\u00a0</p>\n\n<h3>Constraints</h3>\n<p>1 <= N <= 1000<br>\n1 <= M <= 1000<br>\n1 ,<= Q <= 200000<br>\n0 <= Initial Book quality at a coordinate <= 1e5<br>\n0 <=  X <= 1e5<br>\n\n<b>Subtask 1: (10 points)</b><br>\n1 <= N <= 100<br>\n1 <= M <= 100<br>\n1 <= Q <= 1000<br>\n\n<b>Subtask 2: (15 points)</b><br>\n1 <= N <= 1000<br>\n1 <= M <= 100<Br>\n1  <= Q <= 10000<br>\n\n<b>Subtask 3: (15 points)</b><br>\n1 <= N <= 100<br>\n1 <= M <= 1000<Br>\n1 <= Q <= 10000<Br>\n\n<b>Subtask 4: (60 points)</b> <br>\nOriginal Constraints\n\n</p>\n<pre><b>Input:</b>\n6 4 10\n1 2\n1 4\n1 3\n4 5\n4 6\n2 3 1 4\n5 2 3 6\n5 5 5 5\n1 2 3 4\n1 1 2 1\n7 0 2 3\n2 4\n1 3\n1 1\n2 2\n1 2\n1 4\n3 1\n3 3\n3 4\n1 5 1 4 5\n2 4 1 4\n3 1\n3 4\n1 4 1 2 5\n3 4\n3 1\n\n<b>Output:</b>\n24\n5\n10\n31\n17\n20\n34\n\n</pre>\n<p>\u00a0</p>",
    "category_name": "main",
    "user": {
        "username": ""
    },
    "date_added": "17-11-2017",
    "is_direct_submittable": false,
    "contest_name": "ICO 2018 Preparatory Series - Contest 4",
    "languages_supported": "C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, CLOJ, COB, FS",
    "todo": false,
    "time": {
        "view_start_date": 1511181000,
        "end_date": 1511191800,
        "practice_submission_allowed": true,
        "visible_start_date": 1511191800,
        "submit_start_date": 1511181000,
        "current": 1537433329
    },
    "problem_author_html_handle": "<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;</span><span>harrycoda</span>",
    "problem_name": "Aman Jr and Crazy Cataloguing",
    "source_sizelimit": "50000",
    "tags": "<a class='problem-tag-small ' href='/tags/problems/harrycoda'>harrycoda</a>",
    "problem_tester_html_handle": "",
    "problem_author": "harrycoda",
    "contest_code": "ICOP1804",
    "max_timelimit": "1",
    "problem_code": "AMANCRZY"
}