{
    "status": "success",
    "problem_status": "unattempted",
    "problem_tester": null,
    "body": "<span class=\"solution-visible-txt\">All submissions for this problem are available.</span><p>\u00a0</p>\n<p> Charles: <b><i>\"She can learn to be BETTER.\"</i></b> </p>\n<p> Logan: <b><i>\"Better than me??\"</i> </b></p>\n<p> Charles: <b><i>\"Actually, YES!!\"</i></b></p>\n\n<p> Charles wants Logan to train Laura, and Logan reluctantly agrees. </p>\n<p> As a part of the training, Logan and Laura visit a park which is in the form of a <b>rectangular grid</b> i.e like a <b>Matrix <a href=\"https://www.codecogs.com/eqnedit.php?latex=M\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?M\" title=\"M\" /></a></b> </p>\n<p> The rows are defined in top to bottom order, and the columns are defined in left to right order </p>\n<p> At each of the position represented as <b><a href=\"https://www.codecogs.com/eqnedit.php?latex=(i,j)\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?(i,j)\" title=\"(i,j)\" /></a></b> , there exists an item of value <b><a href=\"https://www.codecogs.com/eqnedit.php?latex=M(i,j)\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?M(i,j)\" title=\"M(i,j)\" /></a></b> </p>. \n<p> Logan decided to train Laura by giving her <b><a href=\"https://www.codecogs.com/eqnedit.php?latex=K\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?K\" title=\"K\" /></a></b> difficult tasks. </p>\n<p> Each of the <a href=\"https://www.codecogs.com/eqnedit.php?latex=K\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?K\" title=\"K\" /></a> tasks can be defined as follows: </p>\n<p> Logan provides Laura <b>coordinates of 2 rectangular sub-grids</b>. </p> \n<p> First of all, Laura must <b>ignore the common area of both the rectangular sub-grids</b>. </p>\n<p> Now, <b>with the area remaining in both sub-grids</b>, she has to find <a href=\"https://www.codecogs.com/eqnedit.php?latex=X=Min&space;(M(i,j))+&space;Max&space;(M(i,j))\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?X=Min&space;(M(i,j))+&space;Max&space;(M(i,j))\" title=\"X=Min (M(i,j))+ Max (M(i,j))\" /></a> </b></p>\n<p> She has to compute <br><a href=\"https://www.codecogs.com/eqnedit.php?latex=Y&space;=&space;\\sum_{1}^{K}&space;X\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?Y&space;=&space;\\sum_{1}^{K}&space;X\" title=\"Y = \\sum_{1}^{K} X\" /></a> </p>\n<p> Logan doesn't stop at this, as he wants Laura to be the best. </p>\n<p> He takes Laura to another park in the form of a <b>square grid i.e like a matrix <a href=\"https://www.codecogs.com/eqnedit.php?latex=N\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?N\" title=\"N\" /></a> </b></p> \n<p> If Laura is at some point <a href=\"https://www.codecogs.com/eqnedit.php?latex=(A,B&space;)\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?(A,B&space;)\" title=\"(A,B )\" /></a> in the grid <a href=\"https://www.codecogs.com/eqnedit.php?latex=N\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?N\" title=\"N\" /></a>, then in a <b>single step</b> she can move to another point <a href=\"https://www.codecogs.com/eqnedit.php?latex=(C,D)\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?(C,D)\" title=\"(C,D)\" /></a> if the following condition is satisfied: </p>\n<p><a href=\"https://www.codecogs.com/eqnedit.php?latex=1\\leq&space;max&space;(&space;|&space;A&space;-&space;C&space;|&space;,&space;|B-D|&space;)&space;\\leq&space;2\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?1\\leq&space;max&space;(&space;|&space;A&space;-&space;C&space;|&space;,&space;|B-D|&space;)&space;\\leq&space;2\" title=\"1\\leq max ( | A - C | , |B-D| ) \\leq 2\" /></a></p>\n<p> Now, he gives her <a href=\"https://www.codecogs.com/eqnedit.php?latex=Z\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?Z\" title=\"Z\" /></a> queries to answer.</p>\n<p> In each query, Logan provides her a coordinate <a href=\"https://www.codecogs.com/eqnedit.php?latex=(A,B)\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?(A,B)\" title=\"(A,B)\" /></a> inside the grid <a href=\"https://www.codecogs.com/eqnedit.php?latex=N\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?N\" title=\"N\" /></a> </p> \n<p> She has to move <b>exactly</b> <a href=\"https://www.codecogs.com/eqnedit.php?latex=Y\" target=\"_blank\"><img src=\"https://latex.codecogs.com/gif.latex?Y\" title=\"Y\" /></a> steps in the square grid. </p> \n<p> The steps must be taken in such a way that <b>at each instant she stays in the park only</b>. </p> \n<p> Laura needs to tell <b>the distinct number of ways</b> to achieve the required goal. </b>\n<p> Two ways are considered to be <b>different</b> <b>if they have atleast one different step</b>. </p>\n<p> As the number of ways can be very large, print the answer modulo <b>10<sup>9</sup>+7</b></p>\n<p> <b>Note: Large I/O Files. Use Fast I/O like scanf/printf for C++ </b> </p>\n<p>\u00a0</p>\n\n\n<h3>Input</h3>\n<p> First line contains 2 integers - <b>R and C</b> denoting the dimensions of the matrix <b>M</b></p>\n<p> <b>R</b> lines follow, with each line comprising <b>C</b> integers. </p>\n<p> Next line contains integer <b>K</b>- denoting the number of tasks to be performed .</p>\n<p> <b>K</b> lines follow. </p>\n<p> Each of the K lines has <b>8 integers- R1, C1, R2, C2, R3, C3, R4, C4</b> - such that first four integers are co-ordinates of first rectangular sub-grid. (R1,C1 ) denotes the top left corner, and (R2,C2) denotes the bottom right corner of the rectangular sub-grid 1. and next four integers are co-ordinates of second rectangular sub-grid. (R3,C3 ) denotes the top left corner, and (R4,C4) denotes the bottom right corner of the rectangular sub-grid 2.</p>\n<p> Next line contains integer <b>T</b> - dimension of square matrix <b>N</b> </p>\n<p> Next line contains integer <b>Z</b>- the number of queries to be answered. </p>\n<p> <b>Z</b> lines follow. </p>\n<p> Each of the next Z lines has <b>2 integers</b> - <b>A and B</b>  denoting the starting coordinate </p>  \n<p>\u00a0</p>\n\n<h3>Output</h3>\n<p> For each of the <b>Z</b> queries, print the required number of ways as described. For each query, answer must be on the separate line.</p>\n<p>\u00a0</p>\n\n<h3>Constraints</h3>\n<ul>\n<li><b>1</b> \u2264 <b>R,C</b> \u2264 <b>1000</b></li>\n<li><b>1</b> \u2264 <b>M(i,j)</b> \u2264 <b>10<sup>9</sup></b></li>\n<li><b>1</b> \u2264 <b>K</b> \u2264 <b>20000</b></li>\n<li><b>1</b> \u2264 <b>R1 \u2264 R2</b> \u2264 <b>R</b></li>\n<li><b>1</b> \u2264 <b>R3 \u2264 R4</b> \u2264 <b>R</b></li>\n<li><b>1</b> \u2264 <b>C1 \u2264 C2</b> \u2264 <b>C</b></li>\n<li><b>1</b> \u2264 <b>C3 \u2264 C4</b> \u2264 <b>C</b></li>\n<li><b>Both the rectangular subgrids are not exactly same</b></li>\n<li><b>1</b> \u2264 <b>T</b> \u2264 <b>20</b></li>\n<li><b>1</b> \u2264 <b>Z</b> \u2264 <b>400</b></li>\n<li><b>1</b> \u2264 <b>A,B</b> \u2264 <b>T</b></li>\n</ul>\n<p>\u00a0</p>\n<h3>Example</h3>\n<p> 3 3 </p>\n<p> 1 1 3 </p>\n<p> 1 6 1 </p>\n<p> 8 1 1 </p>\n<p> 1 </p>\n<p> 1 1 2 2 2 2 3 3 </p>\n<p> 3 </p>\n<p> 1 </p>\n<p> 1 1 </p>\n\n<b>Output:</b>\n<p>64</p>\n<p>\u00a0</p>\n<h3>Explanation</h3>\n<img src = 'https://s24.postimg.org/a2r9xow85/17467702_980460825418760_1838371940_n.jpg' >\n<p> The rectangular grid can be shown as above. </p>\n<p> Blue colored region denotes first sub-grid, and red colored region denotes second sub-grid </p>\n<p> After eliminating the overlapping region, we see than Min=1 and Max=1 </p>\n<p> So, Y=2 </p>\n<p> In the square grid of size 3, starting point is (1,1) </p>\n<p> There are 64 different ways in which Laura can move 2 steps from cell (1,1). </p>",
    "category_name": "main",
    "user": {
        "username": ""
    },
    "date_added": "23-03-2017",
    "is_direct_submittable": false,
    "contest_name": "Alkhwarizm 2017 (Rated)",
    "languages_supported": "C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, SCALA, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, PERL6, TEXT, SCM chicken, CLOJ, FS",
    "todo": false,
    "time": {
        "view_start_date": 1490369400,
        "end_date": 1490387400,
        "practice_submission_allowed": true,
        "visible_start_date": 1490387400,
        "submit_start_date": 1490369400,
        "current": 1537433977
    },
    "problem_author_html_handle": "<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;</span><span>shivamg_isc</span>",
    "problem_name": "Logan and his MATRIX game",
    "source_sizelimit": "50000",
    "tags": "<a class='problem-tag-small ' href='/tags/problems/shivamg_isc'>shivamg_isc</a>",
    "problem_tester_html_handle": "",
    "problem_author": "shivamg_isc",
    "contest_code": "ALKH2017",
    "max_timelimit": "1",
    "problem_code": "LOGMAT"
}