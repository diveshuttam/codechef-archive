{
    "problem_code": "CHEFAT",
    "problem_author": "bciobanu",
    "contest_name": "April Challenge 2018 Division 1",
    "todo": false,
    "problem_author_html_handle": "<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;</span><span>bciobanu</span>",
    "problem_name": "Chef at the Food Fair",
    "source_sizelimit": "50000",
    "problem_tester_html_handle": "",
    "contest_code": "APRIL18A",
    "is_direct_submittable": false,
    "tags": "<a class='problem-tag-small ' href='/tags/problems/april18'>april18</a>, <a class='problem-tag-small ' href='/tags/problems/bciobanu'>bciobanu</a>, <a class='problem-tag-small ' href='/tags/problems/lazypropagation'>lazypropagation</a>, <a class='problem-tag-small ' href='/tags/problems/medium-hard'>medium-hard</a>, <a class='problem-tag-small ' href='/tags/problems/segtree'>segtree</a>, <a class='problem-tag-small ' href='/tags/problems/taylor-series'>taylor-series</a>",
    "body": "<span class=\"solution-visible-txt\">All submissions for this problem are available.</span><h3>Read problems statements in <a target=\"_blank\" \nhref=\"http://www.codechef.com/download/translated/APRIL18/mandarin/CHEFAT.pdf\">Mandarin chinese</a>, <a target=\"_blank\" \nhref=\"http://www.codechef.com/download/translated/APRIL18/russian/CHEFAT.pdf\">Russian</a> and <a target=\"_blank\" \nhref=\"http://www.codechef.com/download/translated/APRIL18/vietnamese/CHEFAT.pdf\">Vietnamese</a> as well.</h3>\n\nA food fair is being organised in Chef's town. $N$ booths were set up in a straight line and numbered $1$ through $N$. For each $i$ ($1 \\le i \\le N$), the probability with which the food served at booth $i$ will cause food poisoning at the beginning of the day is $P_i$.\n\nOver the course of the day, the Chef observes that certain booths might decide to offer less unhealthy food based on feedback from customers. You should process $Q$ queries of the following two types:\n- $0\\;L\\;R$ \u2014 Compute the probability that eating at each booth between booths $L$ and $R$ (inclusive) does not cause food poisoning.\n- $1\\;L\\;R\\;T$ \u2014 Each booth between booths $L$ and $R$ (inclusive) starts offering food that is $T$ times more likely to cause food poisoning.\n\n### Input\n- The first line of the input contains two space-separated integers $N$ and $Q$.\n- The second line contains $N$ space-separated decimal numbers $P_1, P_2, P_3, \\dots, P_N$.\n- Each of the following $Q$ lines describes one query in the format $0\\;L\\;R$ or $1\\;L\\;R\\;T$. Here, $L$ and $R$ are integers and $T$ is a decimal number.\n\n### Output\nFor each query of type $0$, print a single line containing one real number \u2014 the probability of not getting food poisoning. Your answer will be considered correct if its absolute error doesn't exceed $10^{-6}$.\n\n### Constraints\n- $1 \\le N, Q \\le 10^5$\n- $0 \\le P_i \\le 0.9$ for each valid $i$\n- $1 \\le L \\le R \\le N$\n- $0 \\le T < 1$\n- all decimals on the input will be given with at most 6 fractional digits\n\n### Subtasks\n**Subtask 1 (15 points):** $1 \\le N, Q \\le 2,000$\n\n**Subtask 2 (85 points):** original constraints\n\n### Example Input\n<pre><tt>\n4 7\n0.1 0.25 0.85 0.43\n0 1 3\n1 2 4 0.73\n1 1 3 0.00255\n1 3 4 0.01258\n0 1 4\n0 2 3\n0 3 3\n</tt></pre>\n\n### Example Output\n<pre><tt>\n0.10125000\n0.99531391\n0.99951473\n0.99998009\n</tt></pre>\n\n### Explanation\nThe answer to the first query is $(1 - 0.1) \\cdot (1 - 0.25) \\cdot (1 - 0.85) = 0.10125$.\n\nAfter the second query, the probabilities of getting food poisoning at each booth become $[0.1, 0.1825, 0.6205, 0.3139]$.\n",
    "category_name": "main",
    "date_added": "27-12-2017",
    "status": "success",
    "languages_supported": "C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, CLOJ, COB, FS",
    "max_timelimit": "2",
    "problem_status": "unattempted",
    "editorial_url": "https://discuss.codechef.com/problems/CHEFAT",
    "problem_tester": null,
    "time": {
        "view_start_date": 1523007000,
        "end_date": 1523957400,
        "practice_submission_allowed": true,
        "visible_start_date": 1523957400,
        "submit_start_date": 1523007000,
        "current": 1537432587
    },
    "user": {
        "username": ""
    }
}