{
    "status": "success",
    "problem_status": "unattempted",
    "problem_tester": null,
    "body": "<span class=\"solution-visible-txt\">All submissions for this problem are available.</span><p align = \"justify\">   In pipe games, your objective is to arrange pipes such that there is water flowing from a source to destination. In our variation of the game, there is an unlimited supply of water. Consider a grid of size   N x M. In each cell of the grid, there is a pipe shape(the details are given below). You are able to rotate the pipe shapes 90 degrees clockwise or anti-clockwise any number of times. You cannot move the pipe shapes from the cell. The source is from the left side of the top left cell and the destination is the right side of the bottom right cell. You have to make a minimum number of rotations such that a path exists from the source to the destination. Since there is an unlimited supply of water don\u2019t worry about open ends. Note that water cannot flow from bottom to top since it defies gravity. Water can flow in all other directions. Print \"-1\" if there is no way</p>\n<pre>\nThe pipe shapes are:\n\n1. Horizontal pipe(connects left and right)\n\n2. Vertical pipe(connects top and bottom)\n\n3. L shape-1(connects top and left)\n\n4. L shape-2(connects top and right)\n\n5. L shape-3(connects bottom and left)\n\n6. L shape-4(connects bottom and right)\n\n7. T shape-1(connects all sides except top)\n\n8. T shape-2(connects all sides except right)\n\n9. T shape-3(connects all sides except down)\n\n10. T shape-4(connects all sided except left)\n\n11. \u2018+\u2019 shape (connects all 4 sides)\n\n\n\nPipes 1 and 2 can be obtained by rotating each other.\n\nPipes 3, 4, 5 and 6 can be obtained by rotating each other.\n\nPipes 7, 8, 9 and 10 can be obtained by rotating each other.\n</pre><pre>\n<h3>Input</h3>\nT the number of test cases\n\nFor each test case, 1st line contains two integers N and M.\n\nThen N lines follow each containing M integers.\n\nThe integer A, at j-th position of i-th line represents a pipe shape as described above. \n</pre><h3>Output</h3>\n<p>Print an integer that is the correct answer followed by a new line. </p>\n<p></p>\n<pre>\n<h3>Constraints</h3>\n1 &lt;= T &lt;= 100\n\n1 &lt;= N, M &lt;= 100\n\n1 &lt;= A &lt;= 11 where A is the grid element.\n</pre><h3>Example</h3>\n<pre><b>Input:</b>\n3\n1 1\n1\n1 1\n3\n3 3\n4 1 3\n7 8 6\n11 10 3\n\n<b>Output:</b>\n0\n-1\n6\n</pre><p>\n<img src=\"/download/extimages/6a02ca57d828a8105104bfc0a0926654.png\" alt=\"Pipes\" border=\"0\" height=\"500\" width=\"500\" /></p>\n<h3>Explanation</h3>\n<p>\nFor Case 1 and Case 2: Since the grid has only one cell, the source is the left  side of the cell and destination is its right side.\n</p>\n<p></p>\n<p>\nCase 1: Horizontal pipe connecting left and right side is given, thus the water flows left to right and no rotation is needed.</p>\n<p></p>\n<p>\nCase 2: L shaped pipe is given which can never be used to connect left and right sides irrespective of rotations, hence output is -1.</p>\n<p></p>\n<p>\nCase 3: Look at image above. The pipe at the top left (0,0) is rotated twice [ 4 -> 5 ] , the pipe at (1,0) is rotated once [ 7 -> 10 ] , the pipe at (1,1) is rotated once [ 8 -> 7 ] , the pipe at (1,2) is rotated once [ 6 -> 5] and the pipe at the right bottom (2,2) is rotated once [ 3 -> 4 ].<br />\n<br />\nThe minimum number of rotations is 2+1+1+1+1 = 6.\n</p>\n\n",
    "category_name": "main",
    "user": {
        "username": ""
    },
    "date_added": "24-01-2015",
    "is_direct_submittable": false,
    "contest_name": "Kurukshetra 2015",
    "languages_supported": "C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, SCALA, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, PERL6, TEXT, SCM chicken, CLOJ, FS",
    "todo": false,
    "time": {
        "view_start_date": 1422109800,
        "end_date": 1422127800,
        "practice_submission_allowed": true,
        "visible_start_date": 1422127800,
        "submit_start_date": 1422109800,
        "current": 1537436941
    },
    "problem_author_html_handle": "kopc_admin",
    "problem_name": "Pipes",
    "source_sizelimit": "50000",
    "tags": "<a class='problem-tag-small ' href='/tags/problems/kopc_admin'>kopc_admin</a>",
    "problem_tester_html_handle": "",
    "problem_author": "kopc_admin",
    "contest_code": "KRKS2015",
    "max_timelimit": "0.5",
    "problem_code": "K15G"
}