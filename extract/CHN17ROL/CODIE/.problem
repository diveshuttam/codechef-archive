{
    "problem_code": "CODIE",
    "problem_author": "sidhant007",
    "contest_name": "ACM-ICPC Asia-Chennai Onsite Replay Contest 2017",
    "todo": false,
    "problem_author_html_handle": "<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;</span><span>sidhant007</span>",
    "problem_name": "Codie Bird",
    "source_sizelimit": "50000",
    "problem_tester_html_handle": "",
    "contest_code": "CHN17ROL",
    "is_direct_submittable": false,
    "tags": "<a class='problem-tag-small ' href='/tags/problems/acm17chn'>acm17chn</a>, <a class='problem-tag-small ' href='/tags/problems/chn17rol'>chn17rol</a>, <a class='problem-tag-small ' href='/tags/problems/expected-value'>expected-value</a>, <a class='problem-tag-small ' href='/tags/problems/matrix-expo'>matrix-expo</a>, <a class='problem-tag-small ' href='/tags/problems/med-hard'>med-hard</a>, <a class='problem-tag-small ' href='/tags/problems/sidhant007'>sidhant007</a>",
    "body": "<p>Codie is a super intelligent bird stuck inside a flappy bird simulation. The game is simple: if the position of the bird is denoted by <b>(x, y)</b>, then the bird can move in the following directions in one step:\n<ul>\n<li>right \u2014 to <b>(x + 1, y)</b>,</li>\n<li>up-right \u2014 to <b>(x + 1, y + 1)</b>,</li>\n<li>down-right \u2014 to <b>(x + 1, y - 1)</b>.</li>\n</ul></p>\n<p>The screen has width <b>K</b> and you are <b>not allowed</b> to move outside of the screen, i.e. the position of the bird must satisfy 1 \u2264 <b>y</b> \u2264 <b>K</b> at each moment.</p>\n<img src = \"https://discuss.codechef.com/upfiles/giphy.gif\" alt = \"Animation for flappy bird game\">\n<p><br />\nCodie is moving from <b>(1, K/2)</b> to <b>(N, K/2)</b>. However, there is exactly one obstacle in the simulation. This obstacle occurs at a random <b>x</b>-coordinate between <b>2</b> and <b>N - 1</b> (both inclusive), where each <b>x</b> has equal probability. The obstacle is composed of <b>two</b> vertical pipes. One of them is at the top and covers all <b>y</b>-coordinates between <b>b</b> and <b>K</b> (both inclusive). The other one is at the bottom and covers all <b>y</b>-coordinates between 1 and <b>a</b> (both inclusive). The pipes only allow Codie to move through <b>y</b>-coordinates that are <b>\u2265 a+1</b> and <b>\u2264 b-1</b> at this particular <b>x</b>-coordinate.</p>\n\n<p>Codie, being a super smart and geeky bird, is interested in finding the expected number of paths from <b>(1, K/2)</b> to <b>(N, K/2)</b>. Help Codie find the answer!</p>\n\n<p>Specifically, let's assume that the expected number of paths is a fraction of the form <b>P / Q</b>, where <b>P</b> and <b>Q</b> are coprime. Let <b>Q<sup>-1</sup></b> be the multiplicative inverse of <b>Q</b> modulo 10<sup>9</sup> + 7. Compute <b>P \u00b7 Q<sup>-1</sup> modulo 10<sup>9</sup> + 7</b>.</p>\n\n<h3>Input</h3>\n<p>The only line of the input contains four space-separated integers <b>N</b>, <b>K</b>, <b>a</b> and <b>b</b> denoting the final <b>x</b>-coordinate, the width of the screen, the highest coordinate blocked by the bottom pipe and the lowest coordinate blocked by the top pipe.</p>\n\n<h3>Output</h3>\n<p>Print a single line containing one integer \u2014 the expected number of paths from <b>(1, K/2)</b> to <b>(N, K/2)</b> modulo 10<sup>9</sup> + 7.</p>\n\n<h3>Constraints</h3>\n<ul>\n<li>3 \u2264 <b>N</b> \u2264 10<sup>9</sup></li>\n<li>2 \u2264 <b>K</b> \u2264 50</li>\n<li><b>K</b> is even</li>\n<li>1 \u2264 <b>a</b> &lt; <b>b</b> \u2264 <b>K</b></li>\n</ul>\n\n<h3>Example</h3>\n<pre><b>Input:</b>\n\n5 4 1 3\n\n<b>Output:</b>\n\n666666679\n</pre>\n\n<h3>Explanation</h3>\n<p>Let <b>X</b> denote the starting and ending coordinate, and <b>B</b> denote the cells blocked by pipes.</p>\n<p><img src = \"https://discuss.codechef.com/upfiles/codie_explain_RFTTQft.png\"\n width = \"600\"></p>\nThe expected value is (7 \u00b7 1/3) + (9 \u00b7 1/3) + (7 \u00b7 1/3) = 23/3 = 666666679 (modulo 10<sup>9</sup> + 7).",
    "category_name": "main",
    "date_added": "1-12-2017",
    "status": "success",
    "languages_supported": "C, CPP14, JAVA, kotlin",
    "max_timelimit": "1",
    "problem_status": "unattempted",
    "editorial_url": "https://discuss.codechef.com/problems/CODIE",
    "problem_tester": null,
    "time": {
        "view_start_date": 1515177000,
        "end_date": 1515357000,
        "practice_submission_allowed": true,
        "visible_start_date": 1826238052,
        "submit_start_date": 1515177000,
        "current": 1537433217
    },
    "user": {
        "username": ""
    }
}