{
    "status": "success",
    "problem_status": "unattempted",
    "problem_tester": null,
    "body": "<p>\u00a0</p>\n<p>Indian RAW maintains a track of all its Secret Agents spread across the globe, by maintaining a list of their Fake names  in the order of the riskiness<br />\nof their place of posting. All names are distinct and each name is composed of only lowercase letter ('a'-'z'). The RAW agent, Charlie, who keeps this list secretive, is one day assigned the task of keeping a backup of this list in his<br />\nbrain memory so that the security is not compromised in case of any cyber attack on the computer database and the original database can be automatically<br />\nerased. However Charlie employs a faulty retention method which is as follows:<br />\nCharlie remembers two lists memory1 and memory2 such that for each valid index k, memory1[k]th (0-indexed) name in the list is a prefix of the memory2[k]th name. Charlie might have missed to remember some possible such pairs. However with such a brain memory retention technique, there are a lot of possible orderings that can arise.<br />\nLet Y be the number of different orderings possible of original list consistent with Charlie's memory . Output Y modulo 1,000,000,007 given the shuffled list of Fake names and the two memory lists. If Charlie's memory is inconsistent then Y will be 0.</p>\n<p>\u00a0</p>\n<h3>Input</h3>\n<p>Input description.</p>\n<p>Tips:</p>\n<ul>\n<li>The first line of test case contains a single integer <b>N</b> denoting the number of names. The second line contains <b>N</b> space-separated names <b>A<sub>0</sub></b>, <b>A<sub>1</sub></b>, <b>A<sub>2</sub></b>,...... <b>A<sub>N-1</sub></b>. </li>\n<li>Next line contains a single integer <b>M</b> denoting the number of elements in each array memory1 and memory2. The next two each line contains <b>M</b> space-separated integers denoting the elements of memory1 and memory2. </li>\n</ul>\n<p>\u00a0</p>\n<h3>Output</h3>\n<p>Output description.</p>\n<p>Tips:</p>\n<ul>\n<li>Output Y</li>\n</ul>\n<p>\u00a0</p>\n<h3>Constraints</h3>\n<p>Should contain all the constraints on the input data that you may have. Format it like:</p>\n<ul>\n<li><b>2</b> \u2264 <b>N \u2264 50</b></li>\n<li><b>0</b> \u2264 <b>M \u2264 8</b></li>\n<li><b>1</b> \u2264 <b>length of each name \u2264 50</b></li>\n</ul>\n<p>\u00a0</p>\n<h3>Example</h3>\n<pre><b>Input:</b>\n4\nmarc marco marcol marcpolo\n2\n0 0\n1 2 \n<b>Output:</b>\n6\n</pre>\n<pre><b>Input:</b>\n3\nalpha marco tango\n2\n0 1\n1 0\n<b>Output:</b>\n0\n</pre>\n<pre><b>Input:</b>\n3\nalpha alp alphabeta\n0\n<b>Output:</b>\n6\n</pre><p>\u00a0</p>\n<h3>Explanation</h3>\n<p><b>Example case 1.</b><br />\nAccording to charlie 0th name is the prefix of 1st and 2nd name. \"marc\" has to be the first name.</p>\n<p><b>Example case 2.</b><br />\nAccording to charlie 0th name and 1st are prefix of each other which is only possible if both the names are same but all names should be distinct. Incosistent memory.</p>\n<p><b>Example case 3.</b><br />\nCharlie failed to remember anything.</p>\n",
    "category_name": "main",
    "user": {
        "username": ""
    },
    "date_added": "8-10-2014",
    "is_direct_submittable": false,
    "contest_name": "TechFest 2015, Screening round",
    "languages_supported": "C, CPP14, JAVA, PYTH, PYTH 3.6, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, SCALA, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, PERL6, TEXT, CLOJ, FS",
    "todo": false,
    "time": {
        "view_start_date": 1413124200,
        "end_date": 1413140400,
        "practice_submission_allowed": true,
        "visible_start_date": 1724129868,
        "submit_start_date": 1413124200,
        "current": 1537437347
    },
    "problem_author_html_handle": "techfest2k15",
    "problem_name": "Faulty Retention",
    "source_sizelimit": "50000",
    "tags": "<a class='problem-tag-small ' href='/tags/problems/techfest2k15'>techfest2k15</a>",
    "problem_tester_html_handle": "",
    "problem_author": "techfest2k15",
    "contest_code": "TCFS15S",
    "max_timelimit": "2 - 3",
    "problem_code": "FARET"
}