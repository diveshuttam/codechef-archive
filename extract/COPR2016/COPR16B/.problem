{
    "problem_code": "COPR16B",
    "problem_author": "likecs",
    "contest_name": "Codestorm Prelims",
    "todo": false,
    "problem_author_html_handle": "<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;</span><span>likecs</span>",
    "problem_name": "Social Networking Site",
    "source_sizelimit": "50000",
    "problem_tester_html_handle": "",
    "contest_code": "COPR2016",
    "is_direct_submittable": false,
    "tags": "<a class='problem-tag-small ' href='/tags/problems/copr16'>copr16</a>, <a class='problem-tag-small ' href='/tags/problems/likecs'>likecs</a>, <a class='problem-tag-small ' href='/tags/problems/likecs'>likecs</a>, <a class='problem-tag-small ' href='/tags/problems/medium'>medium</a>",
    "body": "<span class=\"solution-visible-txt\">All submissions for this problem are available.</span><p align=\"justify\">Let us take you through the our new social networking site. There are presently <b>n</b> users registered. There are <b>m</b> relations <b>(a, b)</b> denoting that <b>a</b> is friend of <b>b</b> and vice-versa. Also, if <b>a</b> is friend of <b>b</b> and <b>a</b> is also friend of <b>c</b> then you can assume that <b>b</b> and <b>c</b> are also friends. i.e. friendship relation is transitive. But still everyone is not connected in the site. There are clusters formed where all the members in a cluster are friend of one another but are not friends of any other person in some other cluster. <br /><br />You are not happy with the present situation. You may assume that there are <b>k</b> clusters formed in your social networking site. To connect everyone with the minimal possible number of connections, you try to add some friendship relation between 2 people in the different clusters. You are assured that if you add a relation between <b>a</b> and <b>x</b> who are in different clusters, then everyone in <b>a's</b> cluster become friends with people in <b>x's</b> clusters. This is because the friendship relationship is transitive. <br /><br />Now there are actually many ways to achieve the target. The simple way is to connect everyone in the site. But it takes a lot of time and it is not needed. You want to achieve this in minimal number of connections. Also, we want to know how many ways are there to achieve these minimal number of connections. As the number of ways can be extremely large to fit in 32 bit integer, print the required answer modulo <b>1000000007</b>.<br /><br />There may be situations when the social network site is already connected i.e. it has only 1 cluster in the beginning. In such a case, print <b>\u201cEveryone is connected\u201d.</b></p>\n<h3>Input Contraints:</h3>\n<ul>\n<li> 1 &lt;= t &lt;= 25 </li>\n<li> 1 &lt;= n &lt;= 10<sup>5</sup> </li>\n<li> 0 &lt;= m &lt;= 10<sup>5</sup> </li>\n</ul>\n<h3>Input Format:</h3>\n<p>The first line contains <b>t</b>, the number of test cases.<br /><br />\nNext of the <b>t</b> lines contains 2 integers <b>n, m </b>as specified in the question.<br />Next <b>m</b> lines contains 2 integers <b>a</b> and <b>b</b> denoting there is friendship relation between <b>a</b> and <b>b</b>.<br />Assume 1-based indexing.\n</p>\n<h3>Output Format:</h3>\n<p>For each test case, if there are more than <b>1</b> cluster print the minimum number of connections and the required number of ways modulo <b>1000000007</b> else print <b>\u201cEveryone is connected\u201d</b> (without quotes).</p>\n<h3>Example</h3>\n<pre><b>Input:</b>\n3\n4 2\n1 2\n3 4\n4 3\n1 2\n3 4\n2 4\n6 3\n1 2\n3 4\n5 6\n<b>Output:</b>\n4\nEveryone is connected\n48\n</pre><h3>Explanation</h3>\n<p>In the first test case, there are 2 clusters formed. So you need to add just one more connection to make everyone connected. There are 4 ways to do so. They are (1,3), (1,4), (2,3), (2,4).<br />In the second test case, there is just one cluster. So print Everyone is connected.<br />For the third test case figure it out yourself.</p>\n",
    "category_name": "main",
    "date_added": "20-02-2016",
    "status": "success",
    "languages_supported": "C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, SCALA, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, PERL6, TEXT, SCM chicken, CLOJ, FS",
    "max_timelimit": "1",
    "problem_status": "unattempted",
    "editorial_url": "http://discuss.codechef.com/problems/COPR16B",
    "problem_tester": null,
    "time": {
        "view_start_date": 1456047000,
        "end_date": 1456058700,
        "practice_submission_allowed": true,
        "visible_start_date": 1456058700,
        "submit_start_date": 1456047000,
        "current": 1537435353
    },
    "user": {
        "username": ""
    }
}