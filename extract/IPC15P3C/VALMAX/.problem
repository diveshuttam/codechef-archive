{
    "status": "success",
    "problem_status": "unattempted",
    "problem_tester": null,
    "body": "<span class=\"solution-visible-txt\">All submissions for this problem are available.</span><p>\u00a0</p>\n<p>\u00a0<br />\nWe are given <b>n</b> items with labels from <b>1 to n</b> . We are also given a special rooted tree with <b>1</b> as the root.<br /><br />\nAt node number <b>i</b> in the special tree , a packet ( <b>Pkt[i] </b>) having infinite number of items of label <b>i</b> is kept.<br /><br />\nA packet \u2018Pkt[i]\u2019 of items is defined by 2 parameters : <b>a[i],b[i]</b><br /><br />\nThe value of an item in the packet is a[i] . But the value of 'a[i]' keeps on reducing every time we take an item out of it.<br /> Every time an item is taken out from Pckt[i] , 'a[i]' gets reduced by b[i]^2 .<br /><br />\nExample : <br /><br /><br />\nLet <b>A[i] </b> be the original value of a[i]. We take only 1 item , value is a[i] . Now \u2018a[i]\u2019 becomes A[i]-b[i]^2 .<br /> If we take another item , value of this will be new \u2018a[i]\u2019 ( A[i] - b[i]^2 )  and now a[i] becomes A[i] - 2*(b[i]^2).<br />So total value of 2 items is = 2*A[i] - b^2 .<br />\n<br /><br /><br />\nWe have to select up to <b>k</b> items, so that :<br /></p>\n<ul>\n<li>For 2 selected items having labels \u2018i\u2019 and \u2018j\u2019, one should not be an ancestor of other in the special tree.<br /> Note that 2 selected items can have the same label( Ancestors of a node x in the tree are all nodes that appear in the path of \u2018root\u2019 to \u2018x\u2019 excluding \u2018x\u2019 ).</li>\n<li>Sum of values of the selected items is maximized.</li>\n</ul>\n\n<h3>Input</h3>\n<ul>\n<li>The first line of the input contains an integer <b>T</b> denoting the number of test cases. The description of <b>T</b> test cases follows.</li>\n<li>First line of every test case contains 2 integers n and k</li>\n<li>Next n-1 lines contains the description of the special tree. Each line contains 2 integers 'u' and 'v'. This means that u and v have an edge between them </li>\n<li>Next n lines contain the values a[i],b[i] for all the packets of items</li>\n</ul>\n<p>\u00a0</p>\n<h3>Output</h3>\n<ul>\n<li>For each test case, output a single line containing the maximum possible sum of values of the selected items  </li>\n</ul>\n<p>\u00a0</p>\n<h3>Constraints</h3>\n<ul>\n<li><b>1</b> \u2264 <b>T</b> \u2264 <b>10</b></li>\n<li><b>1</b> \u2264 <b>n</b> \u2264 <b>10000</b></li>\n<li><b>1</b> \u2264 <b>k</b> \u2264 <b>1000</b></li>\n<li><b>0</b> \u2264 <b>a[i]</b> \u2264 <b>100</b></li>\n<li><b>1</b> \u2264 <b>b[i]</b> \u2264 <b>100</b></li>\n<li><b>1</b> \u2264 <b>u,v</b> \u2264 <b>n</b></li>\n<li><b>1</b> \u2264 <b>Sum of n over all test cases </b> \u2264 <b>10000</b></li>\n</ul>\n<p>\u00a0</p>\n<h3>Example</h3>\n<pre><b>Input:</b>\n1\n3 1\n1 2\n1 3\n6 1\n5 1\n4 1\n\n<b>Output:</b>\n6\n</pre><p>\u00a0</p>\n<h3>Explanation</h3>\n<p><b>Example case 1: </b>We can select only 1 item. So, we select it from node 1 as it has maximum value</p>\n",
    "category_name": "main",
    "user": {
        "username": ""
    },
    "date_added": "8-03-2016",
    "is_direct_submittable": false,
    "contest_name": "ICPC Preparatory Series by Team Apocalypse",
    "languages_supported": "C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, SCALA, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, PERL6, TEXT, SCM chicken, CLOJ, FS",
    "todo": false,
    "time": {
        "view_start_date": 1457533800,
        "end_date": 1457551800,
        "practice_submission_allowed": true,
        "visible_start_date": 1457551800,
        "submit_start_date": 1457533800,
        "current": 1537435221
    },
    "problem_author_html_handle": "<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;</span><span>kshitijbathla</span>",
    "problem_name": "Optimum Selection",
    "source_sizelimit": "50000",
    "tags": "<a class='problem-tag-small ' href='/tags/problems/kshitijbathla'>kshitijbathla</a>",
    "problem_tester_html_handle": "",
    "problem_author": "kshitijbathla",
    "contest_code": "IPC15P3C",
    "max_timelimit": "2",
    "problem_code": "VALMAX"
}