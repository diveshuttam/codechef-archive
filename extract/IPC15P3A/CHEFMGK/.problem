{
    "status": "success",
    "problem_status": "unattempted",
    "problem_tester": null,
    "body": "<span class=\"solution-visible-txt\">All submissions for this problem are available.</span><p>\nChef has an array <b>A</b> consisting of <b>N</b> <b>non-zero</b> integers. The elements of array are <b>1-indexed</b>. Chef has recently been interested in magic sequences. For the convenience of others, Chef has given a formal definition of a magic sequence.\n</p>\n<p>\nSuppose elements of Chef's array are <b>A<sub>1</sub>, A<sub>2</sub>, A<sub>3</sub>, ............, A<sub>N</sub></b>. A sequence <b>A<sub>x_1</sub>, A<sub>x_2</sub>, A<sub>x_3</sub>, ........., A<sub>x_M</sub></b> is called a magic sequence if -</p>\n<ul>\n<li>For each <b>i</b> such that <b>1 \u2264 i \u2264 M</b>, <b>1 \u2264 x_i \u2264 N</b>.</li>\n<li>For each <b>i, j</b> such that <b>1 \u2264 i, j \u2264 M</b> and <b>i != j</b>, <b>x_i != x_j</b></li>\n<li><b>M >= 3</b></li>\n<li>For each <b>i</b> such that <b>2 \u2264 i \u2264 M</b>, <b>A<sub>x_i</sub> = R * A<sub>x_(i - 1)</sub></b> where <b>R</b> is some non-zero integer.</li>\n</ul>\n\n<p>\nTwo magic sequences are considered distinct if for at least one <b>i</b>, <b>x_i</b> of one sequence is not equal to <b>x_i</b> of another sequence.\n</p>\n<p>\nNow since Chef has given definition of magic sequence to you, he wants you to find total number of magic sequences that can be formed using Chef's array <b>A</b>. Since this value may be quite big, output the answer modulo <b>10<sup>9</sup> + 7</b>.\n</p>\n<p>\u00a0</p>\n<h3>Input</h3>\n<p>The first line of the input contains <b>N</b>, number of elements in Chef's array.</p>\n<p>The second line contains <b>N</b> space separated <b>non-zero</b> integers <b>A<sub>1</sub>, A<sub>2</sub>, A<sub>3</sub>, ............, A<sub>N</sub></b></p>\n<p> denoting elements of the array.</p>\n<p>\u00a0</p>\n<h3>Output</h3>\n<p> Output a single line containing the total number of magic sequences modulo <b>10<sup>9</sup> + 7</b>.</p>\n<p>\u00a0</p>\n<h3>Constraints</h3>\n<ul>\n<li><b>1</b> \u2264 <b>N</b> \u2264 <b>100000</b></li>\n<li><b>-100000</b> \u2264 <b>A<sub>i</sub></b> \u2264 <b>100000</b></li>\n<li><b>A<sub>i</sub> != 0</b>\n</li></ul>\n<p>\u00a0</p>\n<h3>Example</h3>\n<pre><b>Input:</b>\n5\n1 2 3 4 5\n\n<b>Output:</b>\n1\n</pre>\n<pre><b>Input:</b>\n5\n1 2 4 8 16\n\n<b>Output:</b>\n7\n</pre>\n<pre><b>Input:</b>\n5\n17 -17 17 -17 17\n\n<b>Output:</b>\n60\n</pre><p>\u00a0</p>\n<h3>Explanation</h3>\n<p><b>Example case 1.</b> There is only 1 magic sequence possible which is <b>[1,2,4]</b>.</p>\n<p><b>Example case 2.</b> There are 7 magic sequences: <b>[1,2,4], [1,4,16], [1,2,4,8], [1,2,4,8,16], [2,4,8], [2,4,8,16], [4,8,16].</b></p>\n<p><b>Example case 3.</b> There are 6 magic sequences of indexes having values <b>[17,17,17]</b>, 12 magic sequences of indexes having values <b>[17,-17,17]</b>, 6 magic sequences of indexes having values <b>[-17,17,-17]</b>, 12 magic sequences of indexes having values <b>[17,-17,17,-17]</b>, 12 magic sequences of indexes having values <b>[-17,17,-17,17]</b> and 12 magic sequences of indexes having values <b>[17,-17,17,-17,17]</b>.So, total count is 60.</p>\n",
    "category_name": "main",
    "user": {
        "username": ""
    },
    "date_added": "28-02-2016",
    "is_direct_submittable": false,
    "contest_name": "ICPC Preparatory Series by Team apqAW2",
    "languages_supported": "C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, SCALA, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, PERL6, TEXT, SCM chicken, CLOJ, FS",
    "todo": false,
    "time": {
        "view_start_date": 1456669800,
        "end_date": 1456687800,
        "practice_submission_allowed": true,
        "visible_start_date": 1456687800,
        "submit_start_date": 1456669800,
        "current": 1537435293
    },
    "problem_author_html_handle": "<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;</span><span>m_17</span>",
    "problem_name": "Chef and Magic Sequences",
    "source_sizelimit": "50000",
    "tags": "<a class='problem-tag-small ' href='/tags/problems/m_17'>m_17</a>",
    "problem_tester_html_handle": "",
    "problem_author": "m_17",
    "contest_code": "IPC15P3A",
    "max_timelimit": "1",
    "problem_code": "CHEFMGK"
}