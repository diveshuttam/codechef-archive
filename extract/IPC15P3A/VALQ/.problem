{
    "status": "success",
    "problem_status": "unattempted",
    "problem_tester": null,
    "body": "<span class=\"solution-visible-txt\">All submissions for this problem are available.</span>\n<p>Valentines is coming after <b>Q</b> days and <b>Tappu</b> desperately needs to impress his girlfriend <b>Kannu</b>.<br />\nIn order to test the extent of <b>Tappu's</b> love for her, <b>Kannu</b> gives <b>Tappu</b> a <b>string S[1.....N] </b> of <b> length N </b>.<br />\nOn the i<sup> th</sup> day of the Q days, she asks him about the <b>number of substrings in the string S[L<sub>i</sub>...R<sub>i</sub>] </b>(<b>both inclusive</b>) which are <b> same </b> when read in <b>forward </b> as well as <b> backward </b> direction. (S[L<sub>i</sub>.....R<sub>i</sub>] denotes the substring of S from index L<sub>i</sub> to R<sub>i</sub>)<br />\nIf the answer of the <b>i - 1<sup> th </sup> day</b> was <b>A</b>, <b>L<sub>i</sub></b> and <b>R<sub>i</sub></b> for the <b>i<sup> th </sup> day</b> changes according to the following formula: </p>\n<li>\nIf <b> L<sub>i - 1</sub> > R<sub>i - 1</sub> </b>, then<b> swap</b> values of <b>L<sub>i - 1</sub></b> and <b>R<sub>i - 1</sub></b>.\n</li><li>\n<b>L<sub>i</sub> = ((A * L<sub>i - 1</sub> + K1) % N) + 1 </b>\n</li><li>\n<b>R<sub>i</sub> = ((A * R<sub>i - 1</sub> + K2) % N) + 1 </b><br />\n<br /><br />\nwhere <b>K1</b> and <b>K2</b> are <b>constants</b>.<br />\nShe gives <b>Tappu</b> <b>L<sub>1</sub> </b> and <b>R<sub>1</sub></b> for the <b>1st day</b>.<br />\n<b>Tappu</b> being a little slow in calculations asks for your help.<br />\nWould you help him impress his valentine?<br />\n.\n\n<h3>Input</h3>\n<p>\nFirst line contains the length of string <b> N </b> and the next line contains the string <b>S</b>.<br />\nThe subsequent line contains the number of queries <b>Q</b>, <b>L<sub>1</sub></b>, <b>R<sub>1</sub></b>, <b>K1</b> and <b>K2</b> respectively.<br />\nThe <b>indexing</b> of <b>L<sub>i</sub></b> and <b>R<sub>i</sub></b> is <b>1-based</b>.\n</p>\n<h3>Output</h3>\n<p>\nOutput Q lines each containing the answer for the i<sup> th</sup> day.\n</p>\n<h3>Constraints</h3>\n\n</li><li><b>1</b> \u2264 <b>N, Q</b> \u2264 <b>2 * 10 <sup> 5 </sup></b></li>\n<li><b>1</b> \u2264 <b>L, R</b> \u2264 <b>N</b></li>\n<li><b>0</b> \u2264 <b>K1, K2</b> \u2264 <b>10 <sup> 9 </sup></b></li>\n<li> <b>Note that L<sub>1</sub> can be greater than R<sub>1</sub>. In such case L<sub>1</sub> and R<sub>1</sub> need to be swapped as mentioned above.</b>\n\n<h3>Example</h3>\n<pre><b>Input:</b>\n5\nababc\n2 1 3 7 12\n\n\n<b>Output:</b>\n4 \n5\n</pre>\n<h3>Explanation</h3>\n<p>L1 = 1 and R1 = 3<br />\nso here the substring is \"aba\" and the 4 palindromes are \"a\", \"b\", \"a\", \"aba\".<br />\nUsing A = 4,<br />\nwe get L2 = (4 * 1 + 10) % 5 + 1 = 5<br />\nand R2 = (4 * 3 + 15) % 5 + 1 = 2,<br />\nhere <b>L > R</b> so <b>after swapping</b>, L2 = 2 and R2 = 5<br />\nso here the resulting substring becomes \"babc\" and the no. of palindromes is 5 which are \"b\", \"a\", \"b\", \"c\", \"bab\".</p>\n</li>",
    "category_name": "main",
    "user": {
        "username": ""
    },
    "date_added": "28-02-2016",
    "is_direct_submittable": false,
    "contest_name": "ICPC Preparatory Series by Team apqAW2",
    "languages_supported": "C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, SCALA, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, PERL6, TEXT, SCM chicken, CLOJ, FS",
    "todo": false,
    "time": {
        "view_start_date": 1456669800,
        "end_date": 1456687800,
        "practice_submission_allowed": true,
        "visible_start_date": 1456687800,
        "submit_start_date": 1456669800,
        "current": 1537435302
    },
    "problem_author_html_handle": "<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;</span><span>sadhwaniyash6</span>",
    "problem_name": "Valentine and Queries",
    "source_sizelimit": "50000",
    "tags": "<a class='problem-tag-small ' href='/tags/problems/sadhwaniyash6'>sadhwaniyash6</a>",
    "problem_tester_html_handle": "",
    "problem_author": "sadhwaniyash6",
    "contest_code": "IPC15P3A",
    "max_timelimit": "1 - 2.5",
    "problem_code": "VALQ"
}