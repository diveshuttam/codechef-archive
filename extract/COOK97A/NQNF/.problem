{
    "problem_code": "NQNF",
    "problem_author": "allllekssssa",
    "contest_name": "August Cook-Off 2018 Division 1",
    "todo": false,
    "problem_author_html_handle": "<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;</span><span>allllekssssa</span>",
    "problem_name": "No Queries No Fun",
    "source_sizelimit": "50000",
    "problem_tester_html_handle": "",
    "contest_code": "COOK97A",
    "is_direct_submittable": false,
    "tags": "<a class='problem-tag-small ' href='/tags/problems/allllekssssa'>allllekssssa</a>, <a class='problem-tag-small ' href='/tags/problems/convex-hull-trick'>convex-hull-trick</a>, <a class='problem-tag-small ' href='/tags/problems/cook-off'>cook-off</a>, <a class='problem-tag-small ' href='/tags/problems/cook97'>cook97</a>, <a class='problem-tag-small ' href='/tags/problems/medium-hard'>medium-hard</a>, <a class='problem-tag-small ' href='/tags/problems/sqrt-decomp'>sqrt-decomp</a>, <a class='problem-tag-small ' href='/tags/problems/taran_1407'>taran_1407</a>",
    "body": "<span class=\"solution-visible-txt\">All submissions for this problem are available.</span><h3>Read problems statements in <a <a href=\"http://www.codechef.com/download/translated/COOK97/mandarin/NQNF.pdf\" target=\"_blank\">Mandarin chinese</a>\n, <a href=\"http://www.codechef.com/download/translated/COOK97/russian/NQNF.pdf\" target=\"_blank\">Russian</a> and <a href=\"http://www.codechef.com/download/translated/COOK97/vietnamese/NQNF.pdf\" target=\"_blank\">Vietnamese</a> as well.</h3>\n\nMaybe Fulu is not so good at writing codes for median elements, but solving problems with queries is really easy for him. Today, he decided to give you one hard problem with queries from his national contest.\n\nYou are given two sequences $A$ and $B$, each with length $N$ ($1$-indexed), and $Q$ queries. There are four types of queries:\n- $1\\; l\\; r$ \u2014 find $\\mathrm{max}(A_l, A_{l+1}, \\dots, A_r)$\n- $2\\; l\\; r$ \u2014 increase $A_l, A_{l+1}, \\dots, A_r$ by $B_l, B_{l+1}, \\dots, B_r$, i.e. for each $i$ ($l \\le i \\le r$), change $A_i$ to $A_i+B_i$\n- $3\\; l\\; r\\; x$ \u2014 for each $l \\le i \\le r$, increase $B_i$ by $x$\n- $4\\; l\\; r\\; x$ \u2014 for each $l \\le i \\le r$, increase $A_i$ by $x$\n\nCan you quickly process the queries?\n\n### Input\n- The first line of the input contains two space-separated integers $N$ and $Q$.\n- The second line contains $N$ space-separated integers $A_1, A_2, \\dots, A_N$ denoting the initial sequence $A$.\n- The third line contains $N$ space-separated integers $B_1, B_2, \\dots, B_N$ denoting the initial sequence $B$.\n- The following $Q$ lines describe queries. Each of these lines starts with an integer $t$ denoting the type of the query. If $1 \\le t \\le 2$, it is followed by a space and two space-separated integers $l$ and $r$. If $3 \\le t \\le 4$, it is followed by a space and three space-separated integers $l$, $r$ and $x$.\n\n### Output\nFor each query of the first type, print a single line containing one integer \u2014 the maximum element in the subsequence $A_{l..r}$.\n\n### Constraints\n- $1 \\le N, Q \\le 10^5$\n- $|A_i| \\le 10^9$ for each valid $i$\n- $|B_i| \\le 10^9$ for each valid $i$\n- $|x| \\le 10^9$\n- $1 \\le l \\le r \\le N$\n\n### Example Input\n```\n3 6\n1 4 2\n3 1 2\n1 1 3\n2 1 3\n3 1 1 -2\n2 1 3\n4 1 2 3\n1 1 2\n```\n\n### Example Output\n```\n4\n9\n```\n\n### Explanation\nInitially, $A = [1, 4, 2]$ and $B = [3, 1, 2]$.\n- In the first query, we should find the maximum element of $A$, which is $4$.\n- After the second query, $A = [4, 5, 4]$.\n- After the third query, $B = [1, 1, 2]$.\n- After the fourth query, $A = [5, 6, 6]$.\n- After the fifth query, $A = [8, 9, 6]$.\n- In the sixth query, we should find the maximum of $A_1$ and $A_2$, which is $9$.\n",
    "category_name": "main",
    "date_added": "16-08-2018",
    "status": "success",
    "languages_supported": "C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, CLOJ, COB, FS",
    "max_timelimit": "2",
    "problem_status": "unattempted",
    "editorial_url": "https://discuss.codechef.com/problems/NQNF",
    "problem_tester": null,
    "time": {
        "view_start_date": 1534694400,
        "end_date": 1534703400,
        "practice_submission_allowed": true,
        "visible_start_date": 1534703400,
        "submit_start_date": 1534694400,
        "current": 1537432077
    },
    "user": {
        "username": ""
    }
}