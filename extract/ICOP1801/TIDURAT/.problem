{
    "status": "success",
    "problem_status": "unattempted",
    "problem_tester": null,
    "body": "<span class=\"solution-visible-txt\">All submissions for this problem are available.</span><p>Our beloved Tidu managed to hack Codechef by identifying a bug in their security system. He now has a list of upcoming contests, and all their problems. He has solved as many problems from these contests that he could, and now has an estimate of what rank he will get in each contest. Now he plans to do contests in such a way that he maximizes his rating, because it matters very dearly to him.</p>\n<p>\nFormally, Tidu has a list of <b> N</b> upcoming contests and the <b>i<sup>th</sup></b> contest is described by the time at which the contest will take place <b>t<sub>i</sub></b> (assuming that the current time is 0 and all contests start after it) and his rating after it <b>r<sub>i</sub></b>. Also, no contests will be held at the same time, i.e. all <b>t<sub>i</sub></b> are distinct.\n</p>\nHowever, CodeChef soon realized the mistake. They are now in a fix, they can\u2019t cancel so many contests for one contestant. Neither can they ban Tidu as he is one of the best high school programmers in India. So they decide to make Tidu an offer.  \n<p>\nThe first contest they will allow Tidu to compete in is the contest with index <b>x</b>. Also, they set up a condition of participation for more contests Formally, to participate in a contest with index <b>k (k not equal to x)</b>:\nTidu Can participate in contest k only if <b>t<sub>k</sub>>t<sub>x</sub></b>.\nIf the last contest Tidu participated in is the contest with index <b>i</b> and his rating after it is <b>r<sub>i</sub></b>, he cannot participate in contest <b>k</b> (rating <b>r<sub>k</sub></b>) if there is a contest (say contest <b>j</b>) between the time <b>t<sub>i</sub></b> and <b>t<sub>k</sub></b> in which Tidu can attain a rating greater than <b>r<sub>i</sub></b> but lower than <b>r<sub>k</sub></b>. That is, there should be no <b>j</b> such that <b>t <sub>i</sub> &lt; t<sub>j</sub> &lt; t<sub>k</sub></b>. and <b>r<sub>i</sub> &lt; r<sub>j</sub>\n &lt; r<sub>k</sub></b>.  \n</p>\nThus, Codechef is temporarily banning Tidu till time <b>t<sub>x</sub></b>, he competes in contest <b>x</b> to celebrate his ban being lifted, and for every contest after that, he cannot make a huge rating leap. His rating must increase progressively to prevent suspicion from other CodeChef users.\n<p>\nTidu however has exams coming up, and he can take part only in a fixed number of contests. He has a list of <b>M</b> offers from Codechef in the form of <b>x<sub>i</sub> p<sub>i</sub></b>, where <b>x<sub>i</sub></b> is the index (1-indexed) of the first contest he takes part in and <b>p<sub>i</sub></b> is the maximum number of contests he can take part in AFTER contest <b>x<sub>i</sub></b> (<b>x<sub>i</sub></b> is not included). Help Tidu find the maximum rating he can achieve for each offer. (Note that not all <b>x<sub>i</sub></b> are distinct, that is different offers may have the same <b>x<sub>i</sub></b> but different <b>p<sub>i</sub></b>).\n</p>\n<p>\u00a0</p>\n\n\n<h3>Input</h3>\n<p>The first line has two space-separated integers, <b>N M</b> as mentioned above.\nThe next <b>N</b> lines have the description of the contests Tidu knows of. The <b>i<sup>th</sup></b> line describes the <b>i<sup>th</sup></b> contest, having space-separated 2 integers <b>t<sub>i</sub> r<sub>i</sub></b>.\nThe next <b>M</b> lines have the description of the offers. The <b>i<sup>th</sup></b> line describes the <b>i<sup>th</sup></b> offer, having 2 space-separated integers <b>x<sub>i</sub> p<sub>i</sub></b>.\n.</p>\n\n<p>\u00a0</p>\n\n<h3>Output</h3>\n<p>Output <b>M</b> lines, the <b>i<sup>th</sup></b> line should have the maximum rating Tidu can achieve taking the <b>i<sup>th</sup></b> offer.</p>\n\n<p>\u00a0</p>\n\n<h3>Constraints</h3>\n1<b>&lt;=</b> N, M<b> &lt;= </b>2*10<sup>5</sup> <br> 1<b> &lt;=</b> t<sub>i</sub>, r<sub>i</sub> <b>&lt;=</b>10<sup>9</sup><br>1<b> &lt;= </b> x<sub>i</sub>, p<sub>i</sub><b> &lt;= </b>N\n<ul>\n<li><b>Subtask 1 (10 points):</b>\nFor any i, j, if t<sub>i</sub> &lt; t<sub>j</sub> then r<sub>i</sub> &lt; r<sub>j</sub>\n\n</li><li><b>Subtask 2 (14 points):</b>\n1&lt;=N, M&lt;=10<sup>3</sup>\n\n</li><li><b>Subtask 3 (18 points):</b>\n1&lt;=N&lt;=10<sup>3</sup>, 1&lt;=M&lt;= 2*10<sup>5</sup>\n\n</li><li><b>Subtask 4 (38 points):</b>\nSum of all p<sub>i</sub> &lt;= 10<sup>6</sup>\n\n</li><li><b>Subtask 5 (20 points):</b>\nOriginal Constraints\n</li></ul>\n\n<b> Note: </b>\n<p>You may have to handle different subtasks with different methods, however this should be incorporated into a single submission using appropriate conditions to get points for all such subtasks. Also it is guaranteed that a single method exists that can solve all subtasks. <b>Use of Fast I/O is recommended.</b></p>\n\n<p>\u00a0</p>\n<h3>Example</h3>\n<pre><b>Input:</b>\n8 8\n10 8\n2 6\n15 1\n6 6\n5 3\n7 10\n20 2\n9 4\n2 2\n4 1\n5 1\n5 2\n7 3\n8 4\n1 7\n6 8\n\n<b>Output:</b>\n10\n10\n6\n10\n2\n8\n8\n10\n\n</pre>\n<p>\u00a0</p>\n<h3>Explanation</h3>\nThe output lists the highest rating Tidu can achieve from the given index within the amount of contests available.\nFor query 1, Tidu can make a maximum of 2 jumps so he goes from contest 2 to contest 6, needing only 1 jump to reach the best possible.\nFor query 3 Tidu has only 1 jump, so he can only jump from Time 5 Rating 3 contest to Time 6 Rating 6, he can't jump directly to 7 10 as 6 6 has time in between as well as rating.\nFor query 5, Udit can't jump any further so the answer remains 2, the rating of the current contest.",
    "category_name": "main",
    "user": {
        "username": ""
    },
    "date_added": "10-10-2017",
    "is_direct_submittable": false,
    "contest_name": "ICO 2018 Preparatory Series - Contest 1",
    "languages_supported": "C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY",
    "todo": false,
    "time": {
        "view_start_date": 1507905000,
        "end_date": 1507915800,
        "practice_submission_allowed": true,
        "visible_start_date": 1507915800,
        "submit_start_date": 1507905000,
        "current": 1537433459
    },
    "problem_author_html_handle": "<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;</span><span>harrycoda</span>",
    "problem_name": "Tidu and Ratings",
    "source_sizelimit": "50000",
    "tags": "<a class='problem-tag-small ' href='/tags/problems/harrycoda'>harrycoda</a>",
    "problem_tester_html_handle": "",
    "problem_author": "harrycoda",
    "contest_code": "ICOP1801",
    "max_timelimit": "1 - 3",
    "problem_code": "TIDURAT"
}