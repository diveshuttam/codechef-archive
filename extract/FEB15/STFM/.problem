{
    "problem_code": "STFM",
    "problem_author": "antoniuk1",
    "contest_name": "February Challenge 2015",
    "todo": false,
    "problem_author_html_handle": "<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;</span><span>antoniuk1</span>",
    "problem_name": "Chef and Strange Formula",
    "source_sizelimit": "50000",
    "problem_tester_html_handle": "<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #3366CC;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>3&#9733;</span><span>shangjingbo</span>",
    "contest_code": "FEB15",
    "is_direct_submittable": false,
    "tags": "<a class='problem-tag-small ' href='/tags/problems/antoniuk1'>antoniuk1</a>, <a class='problem-tag-small ' href='/tags/problems/easy'>easy</a>, <a class='problem-tag-small ' href='/tags/problems/feb15'>feb15</a>, <a class='problem-tag-small ' href='/tags/problems/math'>math</a>",
    "body": "<span class=\"solution-visible-txt\">All submissions for this problem are available.</span><h3> Read problems statements in <a target=\"_blank\" href=\"http://www.codechef.com/download/translated/FEB15/mandarin/STFM.pdf\">Mandarin Chinese </a> and <a target=\"_blank\" href=\"http://www.codechef.com/download/translated/FEB15/russian/STFM.pdf\">Russian</a>.</h3>\n<p>For positive integer <b>x</b> let define function <b>F(x) = 1 * (1! + x) + 2 * (2! + x) + .. + x * (x! + x)</b>. </p>\n<p><b>\"k!\"</b> means factorial: <b>k! = 1 * 2 * .. * k</b> </p>\n\n<p>Chef wants to calculate <b>F(p<sub>1</sub>) + F(p<sub>2</sub>) + ... + F(p<sub>n</sub>)</b>. </p>\n<p>As answer could be large, help him, calculate value modulo <b>m</b>. </p>\n\n<h3>Input</h3>\n<li>First line contains two integers <b>n</b> and <b>m</b>.</li>\n<li>Next line contains <b>n</b> space separated integers <b>p<sub>i</sub></b>.</li>\n<h3>Output</h3>\n<li>Output a single line containing one integer --- calculated value modulo <b>m</b>.</li>\n<h3>Constraints</h3>\n<ul>\n<li><b>1</b> \u2264 <b>n<sub></sub></b> \u2264 <b> 10<sup>5</sup> </b></li>\n<li><b>1</b> \u2264 <b><b>p<sub>i</sub></b></b> \u2264 <b> 10<sup>18</sup> </b></li>\n<li><b>1</b> \u2264 <b>m</b> \u2264 <b> 10<sup>7</sup> </b></li>\n</ul>\n\n<h3> Subtasks </h3>\n<ul>\n<li>Subtask #1: <b>1</b> \u2264 <b><b>p<sub>i</sub></b></b> \u2264 <b> 6 </b> (10 points)</li>\n<li>Subtask #2: <b>1</b> \u2264 <b><b>p<sub>i</sub></b></b> \u2264 <b> 7 * 10<sup>3</sup> </b> (25 points)</li>\n<li>Subtask #3: <b>m<sub></sub><sup></sup></b> - prime number (25 points)</li>\n<li>Subtask #4: <sub></sub><sup></sup>original constraints (40 points)</li>\n</ul>\n\n<h3>Example</h3>\n<pre><b>Input:</b>\n5 7\n1 2 3 4 5\n\n<b>Output:</b>\n6\n\n<h3>Explanation</h3>\n<li>F(1) = 1 * (1! + 1) = 2</li>\n<li>F(2) = 1 * (1! + 2) + 2 * (2! + 2) = 3 + 8 = 11</li>\n<li>F(3) = 1 * (1! + 3) + 2 * (2! + 3) + 3 * (3! + 3) = 4 + 10 + 27 = 41</li>\n<li>F(4) = 1 * (1! + 4) + 2 * (2! + 4) + 3 * (3! + 4) + 4 * (4! + 4) = 5 + 12 + 30 + 112 = 159</li>\n<li>F(5) = 1 * (1! + 5) + 2 * (2! + 5) + 3 * (3! + 5) + 4 * (4! + 5) + 5 * (5! + 5) = 794</li>\nF(1) + F(2) + F(3) + F(4) + F(5) = 2 + 11 + 41 + 159 + 794 = 1007 \n\n1007 modulo 7 = 6\n</pre>",
    "category_name": "main",
    "date_added": "15-08-2014",
    "status": "success",
    "languages_supported": "C, CPP14, JAVA, PYTH, PYTH 3.6, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, SCALA, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, PERL6, TEXT, CLOJ, FS",
    "max_timelimit": "1",
    "problem_status": "unattempted",
    "editorial_url": "http://discuss.codechef.com/problems/STFM",
    "problem_tester": "shangjingbo",
    "time": {
        "view_start_date": 1423215000,
        "end_date": 1424079000,
        "practice_submission_allowed": true,
        "visible_start_date": 1424079000,
        "submit_start_date": 1423215000,
        "current": 1537436792
    },
    "user": {
        "username": ""
    }
}