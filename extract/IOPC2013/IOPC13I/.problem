{
    "status": "success",
    "problem_status": "unattempted",
    "problem_tester": null,
    "body": "<span class=\"solution-visible-txt\">All submissions for this problem are available.</span>\n<p>Master Yoda is teaching a young Padawan learner, an IIT Kanpur student, the knowledge and powers of a Jedi. During his training, one of the tasks he has to accomplish is to fly a starship across a 3D maze created by Master Yoda for his training. The maze is filled with virtual droids of the Empire\u2019s Army at certain cells. The student has to fly the starship across the maze such that at no time the starship is in the same cell with any of the droids, otherwise he will fail the test and will be kicked out of the Jedi Training Camp.</p>\n<p><b>Description of the maze: </b> <br />\nThe Maze is a 3-D grid of size <b>(N+2) x C x D</b>. It is a vertical stack of <b>D</b> layers where each layer is a 2-D grid containing <b>N+2</b> rows and <b>C</b> columns. The first (index <b>0</b>) and the last (index <b>N+1</b>) rows of each layer are filled with \u2018O\u2019 (open positions in the Maze), except that one cell in the first row of some layer will be marked \u2018S\u2019, the starting position of the student and his starship, and one cell in the last row of some layer will be marked with \u2018D\u2019, his destination. Every other cell in this grid will either contain an enemy droid marked with \u2018X\u2019 or an empty space marked with \u2018O\u2019.\n</p>\n<p>The starship has an intelligent <b>R2D2</b> robot installed which guides the student in flying the starship and deciding his path. The configuration of the grid is stored in the memory of <b>R2D2</b>. It is well known that Master Yoda is a very strict teacher when it comes to Jedi training. He has already computed the minimum number of moves it will take the student  to fly from the starting point and reach the destination already feeded in R2D2. </p>\n<p>Master Yoda realised that if the drones in the maze are kept static, it is too easy for R2D2 to plan a path. Thus, Yoda decides to use his Jedi powers to set the Maze in motion, moving certain rows and columns of all the layers, to add some difficulty to the task. But he won\u2019t move the first and the last rows of any layer (which keeps \u2018S\u2019 and \u2018D\u2019 positions static), since that will be too much for a young Padawan learner, only the masters practice in such a grid.\n</p>\n<p>\nAs soon as the Young Padawan Learner (IITK student) starts the flight, Yoda sets the maze in motion. In each layer, the rows with indices <b>0</b> and <b>N+1</b> remain stationary.<br />\nFor the first layer (the bottom-most layer which is index <b>0</b>), the row with index <b>1</b> is moved towards the right <b>1</b> cell at a time (i.e. one cell to the right in each move). The row with index <b>2</b> moves to the left, row with index <b>3</b> to the right and so on. For the rest of the layers, each row (except rows with indices <b>0</b> and <b>N+1</b>) move in the direction opposite to that of the row just below. All the rows move one cell at a time (i.e. one cell in each move). The row motion is modular i.e. whatever position (\u2018X\u2019 or \u2018O\u2019) leaves the corner of the maze on any side, comes back in the same row, the same layer on the other side.\n</p>\n<p><b>Description of the motion for the starship: </b><br />\nAt all times, the starship must remain in the 3-D Maze of dimensions <b>(N+2) x C x D</b>.<br />\nIn each move, the starship may stay in its current cell or may move to the cell just adjacent to it, i.e. the starship may move one cell either to its right, or to its left in the same row, or one cell up or down in its column, or one cell up to the layer stacked above it or one cell down to the layer underneath keeping the row and columns indices the same. The motion of the starship isn\u2019t modular unlike that of the rows. Although, the starship can\u2019t share a cell with any droid at all times, it may jump over an approaching droid in the same row. It means if a droid is in the neighbouring cell of the starship, in the next move, both of them can exchange their positions without the student failing.\n</p>\n<ul></ul>\n<h3>Input</h3>\n<p>\nThe first line of the input contains an integer <b>M</b> denoting the maximum number of moves allowed. <br /><br />\nThe next line contains three space separated integers <b>N</b> <b>C</b> and <b>D</b> denoting the dimensions of the Maze. <br /><br />\nThe next <b>N+2</b> lines contain <b>C</b> characters denoting the layer <b>0</b> of the Maze <br /><br />\nThe next <b>N+2</b> lines contain <b>C</b> characters denoting the layer <b>1</b> of the Maze <br /><br />\n.<br/><br />\nThe next <b>N+2</b> lines contain <b>C</b> characters denoting the layer <b>D-1</b> of the Maze <br /></br/></p>\n<h3>Output</h3>\n<p>Output an integer denoting the minimum number of moves needed to reach the destination. If it is not possible to reach the destination in less than equal to <b>M</b> moves then output -1</p>\n<h3>Constraints</h3>\n<ul>\n<li><b>1</b> \u2264 <b>M</b> \u2264 <b>4000 </b> </li>\n<li><b>1</b> \u2264 <b>N</b> \u2264 <b>100</b> </li>\n<li><b>1</b> \u2264 <b>C</b> \u2264  <b>100 </b></li>\n<li><b>1</b> \u2264 <b>D</b> \u2264 <b>10 </b></li>\n</ul>\n\n<h3>Example</h3>\n<pre><b>Input:</b>\n20\n2 3 1\nOOS\nOOO\nXXO\nOOD\n<b>Output:</b>\n5\n</pre>\n",
    "category_name": "main",
    "user": {
        "username": ""
    },
    "date_added": "7-03-2013",
    "is_direct_submittable": false,
    "contest_name": "IOPC 2013",
    "languages_supported": "C, JAVA, GO",
    "todo": false,
    "time": {
        "view_start_date": 1362810600,
        "end_date": 1362897000,
        "practice_submission_allowed": true,
        "visible_start_date": 1362897000,
        "submit_start_date": 1362810600,
        "current": 1537438443
    },
    "problem_author_html_handle": "iopc_admin",
    "problem_name": "A journey in 3D",
    "source_sizelimit": "50000",
    "tags": "<a class='problem-tag-small ' href='/tags/problems/iopc_admin'>iopc_admin</a>",
    "problem_tester_html_handle": "",
    "problem_author": "iopc_admin",
    "contest_code": "IOPC2013",
    "max_timelimit": "0.1",
    "problem_code": "IOPC13I"
}